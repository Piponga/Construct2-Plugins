"use strict";assert2(cr,"cr namespace not created"),assert2(cr.plugins_,"cr.plugins_ not created"),cr.plugins_.NodeDownloader=function(n){this.runtime=n},function(){function n(){}function t(){}function e(){}var r="",o="",i=cr.plugins_.NodeDownloader.prototype;i.Type=function(n){this.plugin=n,this.runtime=n.runtime};var s=i.Type.prototype;s.onCreate=function(){},i.Instance=function(n){this.type=n,this.runtime=n.runtime,this.curTag="",this.progress=0,this.size={},"function"==typeof require?(this.enable=!0,r=require("http"),o=require("fs"),("undefined"==typeof r||"undefined"==typeof o)&&(this.enable=!1)):this.enable=!1};var u=i.Instance.prototype;u.startDownload=function(n,t,e){if(!this.enable)return this.curTag=n,this.runtime.trigger(i.cnds.OnError,this),void console.log("Platform is not NW.js or Electron");var s=this,u=r.get(t,function(t){s.size[n]=Number(t.headers["content-length"]),t.setEncoding("binary");var r="";t.on("data",function(t){r+=t,s.curTag=n,s.progress=Math.round(100*r.length/s.size[n]),s.runtime.trigger(i.cnds.OnProgress,s)}),t.on("end",function(){o.writeFile(e,r,"binary",function(t){t&&(s.curTag=n,s.runtime.trigger(i.cnds.OnError,s),console.log("Can not save the downloaded file")),s.curTag=n,s.runtime.trigger(i.cnds.OnFinished,s),delete s.size[n]})})});u.on("error",function(t){s.curTag=n,s.runtime.trigger(i.cnds.OnError,s),console.log(t)}),u.end()},u.onCreate=function(){},u.onDestroy=function(){},u.saveToJSON=function(){return{}},u.loadFromJSON=function(n){},u.draw=function(n){},u.drawGL=function(n){},u.getDebuggerValues=function(n){n.push({title:"My debugger section",properties:[]})},u.onDebugValueEdited=function(n,t,e){},n.prototype.OnError=function(n){return cr.equals_nocase(n,this.curTag)},n.prototype.OnProgress=function(n){return cr.equals_nocase(n,this.curTag)},n.prototype.OnFinished=function(n){return cr.equals_nocase(n,this.curTag)},i.cnds=new n,t.prototype.StartDownload=function(n,t,e){this.startDownload(n,t,e)},i.acts=new t,e.prototype.Percent=function(n){n.set_int(this.progress)},e.prototype.TotalSize=function(n,t){this.size.hasOwnProperty(t)?n.set_int(this.size[t]):n.set_int(-1)},i.exps=new e}();